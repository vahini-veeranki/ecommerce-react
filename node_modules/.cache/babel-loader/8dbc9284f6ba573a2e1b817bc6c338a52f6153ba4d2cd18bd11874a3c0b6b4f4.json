{"ast":null,"code":"import _objectSpread from\"C:/Users/dell/Desktop/e-commerce/ecommerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export const StoreContext=/*#__PURE__*/createContext();const StoreProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);const[wishlist,setWishlist]=useState([]);// ✅ NEW: Orders state\nconst[orders,setOrders]=useState([]);// ---------------- CART ----------------\nconst addToCart=product=>{setCart(prev=>{const exists=prev.find(item=>item.id===product.id);if(exists){return prev.map(item=>item.id===product.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item);}return[...prev,_objectSpread(_objectSpread({},product),{},{quantity:1,selected:true})];});};const removeFromCart=id=>{setCart(prev=>prev.filter(item=>item.id!==id));};const updateQuantity=(id,newQty)=>{if(newQty<1)return;setCart(prev=>prev.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{quantity:newQty}):item));};// Toggle checkbox selection\nconst toggleSelect=id=>{setCart(prev=>prev.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{selected:!item.selected}):item));};// ---------------- WISHLIST ----------------\nconst addToWishlist=product=>{setWishlist(prev=>{const exists=prev.some(item=>item.id===product.id);if(!exists)return[...prev,product];return prev;});};const removeFromWishlist=id=>{setWishlist(prev=>prev.filter(item=>item.id!==id));};// ---------------- ORDERS (NEW) ----------------\n/**\r\n   * Called from PaymentPage after successful payment\r\n   */const placeOrder=_ref2=>{let{items,address,total}=_ref2;const newOrder={id:Date.now(),items,address,total,date:new Date().toLocaleString()};// Save order\nsetOrders(prev=>[newOrder,...prev]);// Remove ordered items from cart\nsetCart(prev=>prev.filter(item=>!item.selected));};return/*#__PURE__*/_jsx(StoreContext.Provider,{value:{// cart\ncart,addToCart,removeFromCart,updateQuantity,toggleSelect,// wishlist\nwishlist,addToWishlist,removeFromWishlist,// orders\norders,placeOrder},children:children});};export default StoreProvider;","map":{"version":3,"names":["React","createContext","useState","jsx","_jsx","StoreContext","StoreProvider","_ref","children","cart","setCart","wishlist","setWishlist","orders","setOrders","addToCart","product","prev","exists","find","item","id","map","_objectSpread","quantity","selected","removeFromCart","filter","updateQuantity","newQty","toggleSelect","addToWishlist","some","removeFromWishlist","placeOrder","_ref2","items","address","total","newOrder","Date","now","date","toLocaleString","Provider","value"],"sources":["C:/Users/dell/Desktop/e-commerce/ecommerce/src/StoreContext.js"],"sourcesContent":["import React, { createContext, useState } from \"react\";\r\n\r\nexport const StoreContext = createContext();\r\n\r\nconst StoreProvider = ({ children }) => {\r\n  const [cart, setCart] = useState([]);\r\n  const [wishlist, setWishlist] = useState([]);\r\n\r\n  // ✅ NEW: Orders state\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  // ---------------- CART ----------------\r\n  const addToCart = (product) => {\r\n    setCart((prev) => {\r\n      const exists = prev.find((item) => item.id === product.id);\r\n      if (exists) {\r\n        return prev.map((item) =>\r\n          item.id === product.id\r\n            ? { ...item, quantity: item.quantity + 1 }\r\n            : item\r\n        );\r\n      }\r\n      return [...prev, { ...product, quantity: 1, selected: true }];\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (id) => {\r\n    setCart((prev) => prev.filter((item) => item.id !== id));\r\n  };\r\n\r\n  const updateQuantity = (id, newQty) => {\r\n    if (newQty < 1) return;\r\n    setCart((prev) =>\r\n      prev.map((item) =>\r\n        item.id === id ? { ...item, quantity: newQty } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  // Toggle checkbox selection\r\n  const toggleSelect = (id) => {\r\n    setCart((prev) =>\r\n      prev.map((item) =>\r\n        item.id === id ? { ...item, selected: !item.selected } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  // ---------------- WISHLIST ----------------\r\n  const addToWishlist = (product) => {\r\n    setWishlist((prev) => {\r\n      const exists = prev.some((item) => item.id === product.id);\r\n      if (!exists) return [...prev, product];\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const removeFromWishlist = (id) => {\r\n    setWishlist((prev) => prev.filter((item) => item.id !== id));\r\n  };\r\n\r\n  // ---------------- ORDERS (NEW) ----------------\r\n\r\n  /**\r\n   * Called from PaymentPage after successful payment\r\n   */\r\n  const placeOrder = ({ items, address, total }) => {\r\n    const newOrder = {\r\n      id: Date.now(),\r\n      items,\r\n      address,\r\n      total,\r\n      date: new Date().toLocaleString(),\r\n    };\r\n\r\n    // Save order\r\n    setOrders((prev) => [newOrder, ...prev]);\r\n\r\n    // Remove ordered items from cart\r\n    setCart((prev) =>\r\n      prev.filter((item) => !item.selected)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <StoreContext.Provider\r\n      value={{\r\n        // cart\r\n        cart,\r\n        addToCart,\r\n        removeFromCart,\r\n        updateQuantity,\r\n        toggleSelect,\r\n\r\n        // wishlist\r\n        wishlist,\r\n        addToWishlist,\r\n        removeFromWishlist,\r\n\r\n        // orders\r\n        orders,\r\n        placeOrder,\r\n      }}\r\n    >\r\n      {children}\r\n    </StoreContext.Provider>\r\n  );\r\n};\r\n\r\nexport default StoreProvider;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}