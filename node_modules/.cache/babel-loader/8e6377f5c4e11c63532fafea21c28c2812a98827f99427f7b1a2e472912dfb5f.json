{"ast":null,"code":"// PaymentPage.js\nimport React,{useState,useContext}from\"react\";import{useNavigate,useLocation}from\"react-router-dom\";import{StoreContext}from\"./StoreContext\";import\"./PaymentPage.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PaymentPage=()=>{var _location$state,_location$state2;const{cart}=useContext(StoreContext);const navigate=useNavigate();const location=useLocation();// ✅ existing logic (unchanged)\nconst selectedItems=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.selectedItems)||cart;const selectedAddress=((_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.selectedAddress)||null;const[selectedPayment,setSelectedPayment]=useState(\"\");// =========================\n// ✅ PRICE CALCULATIONS\n// =========================\n// Subtotal\nconst subtotal=selectedItems.reduce((sum,item)=>sum+(item.price||0)*(item.quantity||1),0);// ✅ Delivery charges: ₹40 per product\nconst DELIVERY_PER_ITEM=40;const deliveryCharges=selectedItems.reduce((sum,item)=>sum+DELIVERY_PER_ITEM*(item.quantity||1),0);// ✅ Final total\nconst totalAmount=subtotal+deliveryCharges;// =========================\n// ✅ HANDLE PAYMENT\n// =========================\nconst handleProceedPayment=()=>{if(!selectedPayment){alert(\"Please select a payment method.\");return;}navigate(\"/order-success\",{state:{items:selectedItems,address:selectedAddress,total:totalAmount}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"payment-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Page\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Summary\"}),selectedItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:item.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Qty: \",item.quantity]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",item.price*item.quantity]})]})]},item.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"price-breakdown\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",subtotal]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Delivery Charges\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",deliveryCharges]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"total-pay\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total to Pay\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u20B9\",totalAmount]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-options\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Select Payment Method\"}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"payment\",value:\"PhonePe\",onChange:e=>setSelectedPayment(e.target.value)}),\"PhonePe\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"payment\",value:\"EMI\",onChange:e=>setSelectedPayment(e.target.value)}),\"EMI\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"payment\",value:\"Net Banking\",onChange:e=>setSelectedPayment(e.target.value)}),\"Net Banking\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"payment\",value:\"Card\",onChange:e=>setSelectedPayment(e.target.value)}),\"Debit / Credit Card\"]}),selectedPayment===\"Card\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"card-details\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name on Card\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Card Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Expiry Date (MM/YY)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"CVV\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"proceed-payment-btn\",disabled:!selectedPayment,onClick:handleProceedPayment,children:[\"Pay \\u20B9\",totalAmount]})]});};export default PaymentPage;","map":{"version":3,"names":["React","useState","useContext","useNavigate","useLocation","StoreContext","jsx","_jsx","jsxs","_jsxs","PaymentPage","_location$state","_location$state2","cart","navigate","location","selectedItems","state","selectedAddress","selectedPayment","setSelectedPayment","subtotal","reduce","sum","item","price","quantity","DELIVERY_PER_ITEM","deliveryCharges","totalAmount","handleProceedPayment","alert","items","address","total","className","children","map","src","image","alt","name","id","type","value","onChange","e","target","placeholder","disabled","onClick"],"sources":["C:/Users/dell/Desktop/e-commerce/ecommerce/src/PaymentPage.js"],"sourcesContent":["// PaymentPage.js\r\nimport React, { useState, useContext } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { StoreContext } from \"./StoreContext\";\r\nimport \"./PaymentPage.css\";\r\n\r\nconst PaymentPage = () => {\r\n  const { cart } = useContext(StoreContext);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // ✅ existing logic (unchanged)\r\n  const selectedItems = location.state?.selectedItems || cart;\r\n  const selectedAddress = location.state?.selectedAddress || null;\r\n\r\n  const [selectedPayment, setSelectedPayment] = useState(\"\");\r\n\r\n  // =========================\r\n  // ✅ PRICE CALCULATIONS\r\n  // =========================\r\n\r\n  // Subtotal\r\n  const subtotal = selectedItems.reduce(\r\n    (sum, item) => sum + (item.price || 0) * (item.quantity || 1),\r\n    0\r\n  );\r\n\r\n  // ✅ Delivery charges: ₹40 per product\r\n  const DELIVERY_PER_ITEM = 40;\r\n\r\n  const deliveryCharges = selectedItems.reduce(\r\n    (sum, item) => sum + DELIVERY_PER_ITEM * (item.quantity || 1),\r\n    0\r\n  );\r\n\r\n  // ✅ Final total\r\n  const totalAmount = subtotal + deliveryCharges;\r\n\r\n  // =========================\r\n  // ✅ HANDLE PAYMENT\r\n  // =========================\r\n  const handleProceedPayment = () => {\r\n    if (!selectedPayment) {\r\n      alert(\"Please select a payment method.\");\r\n      return;\r\n    }\r\n\r\n    navigate(\"/order-success\", {\r\n      state: {\r\n        items: selectedItems,\r\n        address: selectedAddress,\r\n        total: totalAmount,\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"payment-page\">\r\n      <h2>Payment Page</h2>\r\n\r\n      {/* ================= CART SUMMARY ================= */}\r\n      <div className=\"cart-summary\">\r\n        <h3>Order Summary</h3>\r\n\r\n        {selectedItems.map((item) => (\r\n          <div className=\"cart-item\" key={item.id}>\r\n            <img src={item.image} alt={item.name} />\r\n            <div>\r\n              <p>{item.name}</p>\r\n              <p>Qty: {item.quantity}</p>\r\n              <p>₹{item.price * item.quantity}</p>\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n        {/* PRICE BREAKDOWN */}\r\n        <div className=\"price-breakdown\">\r\n          <p>\r\n            <span>Subtotal</span>\r\n            <span>₹{subtotal}</span>\r\n          </p>\r\n\r\n          <p>\r\n            <span>Delivery Charges</span>\r\n            <span>₹{deliveryCharges}</span>\r\n          </p>\r\n\r\n          <hr />\r\n\r\n          <p className=\"total-pay\">\r\n            <strong>Total to Pay</strong>\r\n            <strong>₹{totalAmount}</strong>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ================= PAYMENT OPTIONS ================= */}\r\n      <div className=\"payment-options\">\r\n        <h3>Select Payment Method</h3>\r\n\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"payment\"\r\n            value=\"PhonePe\"\r\n            onChange={(e) => setSelectedPayment(e.target.value)}\r\n          />\r\n          PhonePe\r\n        </label>\r\n\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"payment\"\r\n            value=\"EMI\"\r\n            onChange={(e) => setSelectedPayment(e.target.value)}\r\n          />\r\n          EMI\r\n        </label>\r\n\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"payment\"\r\n            value=\"Net Banking\"\r\n            onChange={(e) => setSelectedPayment(e.target.value)}\r\n          />\r\n          Net Banking\r\n        </label>\r\n\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"payment\"\r\n            value=\"Card\"\r\n            onChange={(e) => setSelectedPayment(e.target.value)}\r\n          />\r\n          Debit / Credit Card\r\n        </label>\r\n\r\n        {selectedPayment === \"Card\" && (\r\n          <div className=\"card-details\">\r\n            <input type=\"text\" placeholder=\"Name on Card\" />\r\n            <input type=\"text\" placeholder=\"Card Number\" />\r\n            <input type=\"text\" placeholder=\"Expiry Date (MM/YY)\" />\r\n            <input type=\"text\" placeholder=\"CVV\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* ================= PAY BUTTON ================= */}\r\n      <button\r\n        className=\"proceed-payment-btn\"\r\n        disabled={!selectedPayment}\r\n        onClick={handleProceedPayment}\r\n      >\r\n        Pay ₹{totalAmount}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentPage;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,YAAY,KAAQ,gBAAgB,CAC7C,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,KAAAC,eAAA,CAAAC,gBAAA,CACxB,KAAM,CAAEC,IAAK,CAAC,CAAGX,UAAU,CAACG,YAAY,CAAC,CACzC,KAAM,CAAAS,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAY,aAAa,CAAG,EAAAL,eAAA,CAAAI,QAAQ,CAACE,KAAK,UAAAN,eAAA,iBAAdA,eAAA,CAAgBK,aAAa,GAAIH,IAAI,CAC3D,KAAM,CAAAK,eAAe,CAAG,EAAAN,gBAAA,CAAAG,QAAQ,CAACE,KAAK,UAAAL,gBAAA,iBAAdA,gBAAA,CAAgBM,eAAe,GAAI,IAAI,CAE/D,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAE1D;AACA;AACA;AAEA;AACA,KAAM,CAAAoB,QAAQ,CAAGL,aAAa,CAACM,MAAM,CACnC,CAACC,GAAG,CAAEC,IAAI,GAAKD,GAAG,CAAG,CAACC,IAAI,CAACC,KAAK,EAAI,CAAC,GAAKD,IAAI,CAACE,QAAQ,EAAI,CAAC,CAAC,CAC7D,CACF,CAAC,CAED;AACA,KAAM,CAAAC,iBAAiB,CAAG,EAAE,CAE5B,KAAM,CAAAC,eAAe,CAAGZ,aAAa,CAACM,MAAM,CAC1C,CAACC,GAAG,CAAEC,IAAI,GAAKD,GAAG,CAAGI,iBAAiB,EAAIH,IAAI,CAACE,QAAQ,EAAI,CAAC,CAAC,CAC7D,CACF,CAAC,CAED;AACA,KAAM,CAAAG,WAAW,CAAGR,QAAQ,CAAGO,eAAe,CAE9C;AACA;AACA;AACA,KAAM,CAAAE,oBAAoB,CAAGA,CAAA,GAAM,CACjC,GAAI,CAACX,eAAe,CAAE,CACpBY,KAAK,CAAC,iCAAiC,CAAC,CACxC,OACF,CAEAjB,QAAQ,CAAC,gBAAgB,CAAE,CACzBG,KAAK,CAAE,CACLe,KAAK,CAAEhB,aAAa,CACpBiB,OAAO,CAAEf,eAAe,CACxBgB,KAAK,CAAEL,WACT,CACF,CAAC,CAAC,CACJ,CAAC,CAED,mBACEpB,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B7B,IAAA,OAAA6B,QAAA,CAAI,cAAY,CAAI,CAAC,cAGrB3B,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B7B,IAAA,OAAA6B,QAAA,CAAI,eAAa,CAAI,CAAC,CAErBpB,aAAa,CAACqB,GAAG,CAAEb,IAAI,eACtBf,KAAA,QAAK0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7B,IAAA,QAAK+B,GAAG,CAAEd,IAAI,CAACe,KAAM,CAACC,GAAG,CAAEhB,IAAI,CAACiB,IAAK,CAAE,CAAC,cACxChC,KAAA,QAAA2B,QAAA,eACE7B,IAAA,MAAA6B,QAAA,CAAIZ,IAAI,CAACiB,IAAI,CAAI,CAAC,cAClBhC,KAAA,MAAA2B,QAAA,EAAG,OAAK,CAACZ,IAAI,CAACE,QAAQ,EAAI,CAAC,cAC3BjB,KAAA,MAAA2B,QAAA,EAAG,QAAC,CAACZ,IAAI,CAACC,KAAK,CAAGD,IAAI,CAACE,QAAQ,EAAI,CAAC,EACjC,CAAC,GANwBF,IAAI,CAACkB,EAOhC,CACN,CAAC,cAGFjC,KAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3B,KAAA,MAAA2B,QAAA,eACE7B,IAAA,SAAA6B,QAAA,CAAM,UAAQ,CAAM,CAAC,cACrB3B,KAAA,SAAA2B,QAAA,EAAM,QAAC,CAACf,QAAQ,EAAO,CAAC,EACvB,CAAC,cAEJZ,KAAA,MAAA2B,QAAA,eACE7B,IAAA,SAAA6B,QAAA,CAAM,kBAAgB,CAAM,CAAC,cAC7B3B,KAAA,SAAA2B,QAAA,EAAM,QAAC,CAACR,eAAe,EAAO,CAAC,EAC9B,CAAC,cAEJrB,IAAA,QAAK,CAAC,cAENE,KAAA,MAAG0B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtB7B,IAAA,WAAA6B,QAAA,CAAQ,cAAY,CAAQ,CAAC,cAC7B3B,KAAA,WAAA2B,QAAA,EAAQ,QAAC,CAACP,WAAW,EAAS,CAAC,EAC9B,CAAC,EACD,CAAC,EACH,CAAC,cAGNpB,KAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B7B,IAAA,OAAA6B,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAE9B3B,KAAA,UAAA2B,QAAA,eACE7B,IAAA,UACEoC,IAAI,CAAC,OAAO,CACZF,IAAI,CAAC,SAAS,CACdG,KAAK,CAAC,SAAS,CACfC,QAAQ,CAAGC,CAAC,EAAK1B,kBAAkB,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACrD,CAAC,UAEJ,EAAO,CAAC,cAERnC,KAAA,UAAA2B,QAAA,eACE7B,IAAA,UACEoC,IAAI,CAAC,OAAO,CACZF,IAAI,CAAC,SAAS,CACdG,KAAK,CAAC,KAAK,CACXC,QAAQ,CAAGC,CAAC,EAAK1B,kBAAkB,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACrD,CAAC,MAEJ,EAAO,CAAC,cAERnC,KAAA,UAAA2B,QAAA,eACE7B,IAAA,UACEoC,IAAI,CAAC,OAAO,CACZF,IAAI,CAAC,SAAS,CACdG,KAAK,CAAC,aAAa,CACnBC,QAAQ,CAAGC,CAAC,EAAK1B,kBAAkB,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACrD,CAAC,cAEJ,EAAO,CAAC,cAERnC,KAAA,UAAA2B,QAAA,eACE7B,IAAA,UACEoC,IAAI,CAAC,OAAO,CACZF,IAAI,CAAC,SAAS,CACdG,KAAK,CAAC,MAAM,CACZC,QAAQ,CAAGC,CAAC,EAAK1B,kBAAkB,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACrD,CAAC,sBAEJ,EAAO,CAAC,CAEPzB,eAAe,GAAK,MAAM,eACzBV,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B7B,IAAA,UAAOoC,IAAI,CAAC,MAAM,CAACK,WAAW,CAAC,cAAc,CAAE,CAAC,cAChDzC,IAAA,UAAOoC,IAAI,CAAC,MAAM,CAACK,WAAW,CAAC,aAAa,CAAE,CAAC,cAC/CzC,IAAA,UAAOoC,IAAI,CAAC,MAAM,CAACK,WAAW,CAAC,qBAAqB,CAAE,CAAC,cACvDzC,IAAA,UAAOoC,IAAI,CAAC,MAAM,CAACK,WAAW,CAAC,KAAK,CAAE,CAAC,EACpC,CACN,EACE,CAAC,cAGNvC,KAAA,WACE0B,SAAS,CAAC,qBAAqB,CAC/Bc,QAAQ,CAAE,CAAC9B,eAAgB,CAC3B+B,OAAO,CAAEpB,oBAAqB,CAAAM,QAAA,EAC/B,YACM,CAACP,WAAW,EACX,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}