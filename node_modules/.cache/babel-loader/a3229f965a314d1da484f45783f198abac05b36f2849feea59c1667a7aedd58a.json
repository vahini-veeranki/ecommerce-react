{"ast":null,"code":"import _objectSpread from\"C:/Users/dell/Desktop/e-commerce/ecommerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/ProductDetails.js\nimport React,{useContext,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{StoreContext}from\"./StoreContext\";import{products}from\"./data\";import\"./ProductDetails.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductDetails=()=>{const{id}=useParams();const navigate=useNavigate();const{addToCart}=useContext(StoreContext);const product=products.find(p=>p.id===Number(id));const[qty,setQty]=useState(1);const[size,setSize]=useState(\"\");// ✅ Added size state\nconst[reviews,setReviews]=useState([]);const[rating,setRating]=useState(5);const[comment,setComment]=useState(\"\");if(!product){return/*#__PURE__*/_jsx(\"h2\",{style:{padding:\"20px\"},children:\"Product not found\"});}const productWithQty=_objectSpread(_objectSpread({},product),{},{quantity:qty,selected:true,size});const addReview=()=>{if(!comment)return;setReviews([...reviews,{rating,comment}]);setComment(\"\");};// ✅ Show size only for Women Dresses and Men Shirts\nconst showSizeOptions=product.category===\"Women Dresses\"||product.category===\"Men Shirts\";return/*#__PURE__*/_jsxs(\"div\",{className:\"product-details-page\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"product-details-image\"}),/*#__PURE__*/_jsx(\"h2\",{children:product.name}),showSizeOptions&&/*#__PURE__*/_jsxs(\"div\",{className:\"size-selection\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Size: \"}),/*#__PURE__*/_jsxs(\"select\",{value:size,onChange:e=>setSize(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Select--\"}),[\"XS\",\"S\",\"M\",\"L\",\"XL\",\"XXL\"].map(s=>/*#__PURE__*/_jsx(\"option\",{value:s,children:s},s))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-qty\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"qty-box\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQty(Math.max(1,qty-1)),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:qty}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQty(qty+1),children:\"+\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-btn\",onClick:()=>{if(showSizeOptions&&!size){alert(\"Please select a size!\");return;}addToCart(productWithQty);},children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buy-btn\",onClick:()=>{if(showSizeOptions&&!size){alert(\"Please select a size!\");return;}navigate(\"/checkout\",{state:[productWithQty]});},children:\"Buy Now\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"reviews\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Reviews\"}),reviews.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No reviews yet.\"}),reviews.map((r,i)=>/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2B50 \",r.rating,\"/5 \\u2013 \",r.comment]},i)),/*#__PURE__*/_jsx(\"select\",{value:rating,onChange:e=>setRating(e.target.value),children:[5,4,3,2,1].map(r=>/*#__PURE__*/_jsx(\"option\",{value:r,children:r},r))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Write a review\",value:comment,onChange:e=>setComment(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:addReview,children:\"Submit Review\"})]})]});};export default ProductDetails;","map":{"version":3,"names":["React","useContext","useState","useParams","useNavigate","StoreContext","products","jsx","_jsx","jsxs","_jsxs","ProductDetails","id","navigate","addToCart","product","find","p","Number","qty","setQty","size","setSize","reviews","setReviews","rating","setRating","comment","setComment","style","padding","children","productWithQty","_objectSpread","quantity","selected","addReview","showSizeOptions","category","className","src","image","alt","name","value","onChange","e","target","map","s","price","onClick","Math","max","alert","state","length","r","i","placeholder"],"sources":["C:/Users/dell/Desktop/e-commerce/ecommerce/src/ProductDetails.js"],"sourcesContent":["// src/ProductDetails.js\r\nimport React, { useContext, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { StoreContext } from \"./StoreContext\";\r\nimport { products } from \"./data\";\r\nimport \"./ProductDetails.css\";\r\n\r\nconst ProductDetails = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { addToCart } = useContext(StoreContext);\r\n\r\n  const product = products.find((p) => p.id === Number(id));\r\n\r\n  const [qty, setQty] = useState(1);\r\n  const [size, setSize] = useState(\"\"); // ✅ Added size state\r\n  const [reviews, setReviews] = useState([]);\r\n  const [rating, setRating] = useState(5);\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  if (!product) {\r\n    return <h2 style={{ padding: \"20px\" }}>Product not found</h2>;\r\n  }\r\n\r\n  const productWithQty = { ...product, quantity: qty, selected: true, size };\r\n\r\n  const addReview = () => {\r\n    if (!comment) return;\r\n    setReviews([...reviews, { rating, comment }]);\r\n    setComment(\"\");\r\n  };\r\n\r\n  // ✅ Show size only for Women Dresses and Men Shirts\r\n  const showSizeOptions =\r\n    product.category === \"Women Dresses\" || product.category === \"Men Shirts\";\r\n\r\n  return (\r\n    <div className=\"product-details-page\">\r\n      <img\r\n        src={product.image}\r\n        alt={product.name}\r\n        className=\"product-details-image\"\r\n      />\r\n\r\n      <h2>{product.name}</h2>\r\n\r\n      {/* ✅ SIZE SELECTION */}\r\n      {showSizeOptions && (\r\n        <div className=\"size-selection\">\r\n          <label>Select Size: </label>\r\n          <select\r\n            value={size}\r\n            onChange={(e) => setSize(e.target.value)}\r\n          >\r\n            <option value=\"\">--Select--</option>\r\n            {[\"XS\", \"S\", \"M\", \"L\", \"XL\", \"XXL\"].map((s) => (\r\n              <option key={s} value={s}>{s}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      )}\r\n\r\n      {/* PRICE + QUANTITY (STACKED) */}\r\n      <div className=\"price-qty\">\r\n        <p className=\"price\">₹{product.price}</p>\r\n\r\n        <div className=\"qty-box\">\r\n          <button onClick={() => setQty(Math.max(1, qty - 1))}>-</button>\r\n          <span>{qty}</span>\r\n          <button onClick={() => setQty(qty + 1)}>+</button>\r\n        </div>\r\n      </div>\r\n\r\n      <button\r\n        className=\"add-btn\"\r\n        onClick={() => {\r\n          if (showSizeOptions && !size) {\r\n            alert(\"Please select a size!\");\r\n            return;\r\n          }\r\n          addToCart(productWithQty);\r\n        }}\r\n      >\r\n        Add to Cart\r\n      </button>\r\n\r\n      <button\r\n        className=\"buy-btn\"\r\n        onClick={() => {\r\n          if (showSizeOptions && !size) {\r\n            alert(\"Please select a size!\");\r\n            return;\r\n          }\r\n          navigate(\"/checkout\", { state: [productWithQty] });\r\n        }}\r\n      >\r\n        Buy Now\r\n      </button>\r\n\r\n      {/* REVIEWS */}\r\n      <div className=\"reviews\">\r\n        <h3>Reviews</h3>\r\n\r\n        {reviews.length === 0 && <p>No reviews yet.</p>}\r\n\r\n        {reviews.map((r, i) => (\r\n          <p key={i}>⭐ {r.rating}/5 – {r.comment}</p>\r\n        ))}\r\n\r\n        <select value={rating} onChange={(e) => setRating(e.target.value)}>\r\n          {[5, 4, 3, 2, 1].map((r) => (\r\n            <option key={r} value={r}>{r}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <input\r\n          placeholder=\"Write a review\"\r\n          value={comment}\r\n          onChange={(e) => setComment(e.target.value)}\r\n        />\r\n\r\n        <button onClick={addReview}>Submit Review</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}